import { __assign } from "tslib";
import * as React from 'react';
import { connect } from 'react-redux';
import { withTranslation } from '@wix/wix-i18n-config';
import { showExpertExperience } from '../../selectors/expertsSelectors';
import { getBiPageView } from '../../selectors/biPageViewSelectors';
import { getBackToSiteQuery } from '@wix/business-manager-api';
import { withErrorBoundary } from '@wix/business-manager-common-utils';
import * as URI from 'urijs';
import { Dropdown, dropdownLinkClasses } from '../DropdownMenu/DropdownMenu';
import * as css from '../DropdownMenu/DropdownMenu.scss';
var ECOM_SCHOOL_URL = 'https://www.wix.com/ecommerce/school?experiment_id=ecomm_school_dashboard_explore&utm_campaign=vir_ecommerce_explore';
var Content = function (_a) {
    var t = _a.t, biPageView = _a.biPageView, isExpert = _a.isExpert;
    var getExploreLink = function (pageRoute) { return new URI("/account/explore/")
        .segment(pageRoute)
        .addSearch(__assign({ referralAdditionalInfo: biPageView }, getBackToSiteQuery())).toString(); };
    var expertsDashboardLink = '/experts-dashboard/news';
    return (React.createElement("div", { className: css.container, "data-hook": "explore-menu" },
        React.createElement("a", { className: dropdownLinkClasses, href: isExpert ? expertsDashboardLink : getExploreLink('updates-releases'), "data-hook": "explore-menu-updates" }, t('explore.updates-and-releases')),
        React.createElement("a", { className: dropdownLinkClasses, href: getExploreLink('inspiring-websites'), "data-hook": "explore-menu-inspiration" }, t('explore.inspiration')),
        React.createElement("a", { className: dropdownLinkClasses, href: ECOM_SCHOOL_URL, target: "_blank", "data-hook": "explore-menu-ecommerce-school", "data-external-link": true }, t('explore.ecommerce.school'))));
};
export var ExploreComponent = function (_a) {
    var t = _a.t, biPageView = _a.biPageView, isExpert = _a.isExpert;
    return (React.createElement(Dropdown, { text: t('explore'), name: "explore-header-item", view: "explore" },
        React.createElement(Content, { t: t, biPageView: biPageView, isExpert: isExpert })));
};
var mapStateToProps = function (state) {
    return {
        isExpert: showExpertExperience(state),
        biPageView: getBiPageView(state),
    };
};
export var Explore = withErrorBoundary()(withTranslation()(connect(mapStateToProps)(ExploreComponent)));
//# sourceMappingURL=Explore.js.map