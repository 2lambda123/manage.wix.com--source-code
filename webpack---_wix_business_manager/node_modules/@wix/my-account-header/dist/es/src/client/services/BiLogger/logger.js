import { __assign } from "tslib";
import wixBiLogger from '@wix/web-bi-logger';
import { getMandatoryBIFields, GET_MANDATORY_BI_FIELDS } from '@wix/business-manager-api';
var BiLogger = /** @class */ (function () {
    function BiLogger(biLogger) {
        if (biLogger === void 0) { biLogger = wixBiLogger; }
        var _a;
        var mandatoryBIFields = ((_a = window['ModuleRegistry']) === null || _a === void 0 ? void 0 : _a.registeredMethods[GET_MANDATORY_BI_FIELDS]) ? getMandatoryBIFields() : {};
        this.biLogger = biLogger
            .factory({ endpoint: 'dash' })
            .updateDefaults(__assign(__assign({}, mandatoryBIFields), { src: 5 }))
            .logger();
    }
    BiLogger.prototype.logEvent = function (eventId, extraParameters) {
        if (extraParameters === void 0) { extraParameters = {}; }
        this.biLogger.log(__assign({ evid: eventId }, extraParameters));
    };
    return BiLogger;
}());
export { BiLogger };
//# sourceMappingURL=logger.js.map