import { __extends } from "tslib";
import * as React from 'react';
var ClickOutside = /** @class */ (function (_super) {
    __extends(ClickOutside, _super);
    function ClickOutside() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.handleDocumentClick = function (e) {
            var el = _this.container;
            if (!el.contains(e.target)) {
                _this.props.onClickOutside();
            }
        };
        _this.handleWindowBlur = function (e) {
            if (_this.isIFrameFocused() && _this.isFocusOutsideDialogContainer()) {
                _this.props.onClickOutside();
            }
        };
        _this.isIFrameFocused = function () { return document.activeElement && document.activeElement instanceof HTMLIFrameElement; };
        _this.isFocusOutsideDialogContainer = function () { return !document.activeElement || !_this.container.contains(document.activeElement); };
        return _this;
    }
    ClickOutside.prototype.render = function () {
        var _this = this;
        return (React.createElement("div", { className: this.props.className, ref: function (ref) { return _this.container = ref; } }, this.props.children));
    };
    ClickOutside.prototype.componentDidMount = function () {
        document.addEventListener('click', this.handleDocumentClick);
        window.addEventListener('blur', this.handleWindowBlur);
    };
    ClickOutside.prototype.componentWillUnmount = function () {
        document.removeEventListener('click', this.handleDocumentClick);
        window.removeEventListener('blur', this.handleWindowBlur);
    };
    return ClickOutside;
}(React.Component));
export { ClickOutside };
//# sourceMappingURL=ReactClickOutside.js.map