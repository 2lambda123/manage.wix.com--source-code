!function(e){function t(t){for(var n,s,r=t[0],a=t[1],i=0,l=[];i<r.length;i++)s=r[i],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&l.push(o[s][0]),o[s]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(u&&u(t);l.length;)l.shift()()}var n={},s={36:0},o={36:0};function r(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.e=function(e){var t=[];s[e]?t.push(s[e]):0!==s[e]&&{38:1,39:1,41:1,42:1}[e]&&t.push(s[e]=new Promise((function(t,n){for(var o=({0:"flowAPIDeps",1:"messages_ar-json",2:"messages_bg-json",3:"messages_ca-json",4:"messages_cs-json",5:"messages_da-json",6:"messages_de-json",7:"messages_el-json",8:"messages_en-json",9:"messages_es-json",10:"messages_fi-json",11:"messages_fr-json",12:"messages_he-json",13:"messages_hi-json",14:"messages_hu-json",15:"messages_id-json",16:"messages_it-json",17:"messages_ja-json",18:"messages_ko-json",19:"messages_lt-json",20:"messages_ms-json",21:"messages_nl-json",22:"messages_no-json",23:"messages_pl-json",24:"messages_pt-json",25:"messages_ro-json",26:"messages_ru-json",27:"messages_sk-json",28:"messages_sl-json",29:"messages_sv-json",30:"messages_th-json",31:"messages_tl-json",32:"messages_tr-json",33:"messages_uk-json",34:"messages_vi-json",35:"messages_zh-json",38:"stores-do-it-with-me-entry-point",39:"stores-shipping-apps-page",40:"stores-shipping-cards-shipping-and-fulfillment",41:"stores-shipping-installed-app-list",42:"stores-shipping-pickup-section"}[e]||e)+".chunk.min.css",a=r.p+o,i=document.getElementsByTagName("link"),l=0;l<i.length;l++){var u=(d=i[l]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===o||u===a))return t()}var c=document.getElementsByTagName("style");for(l=0;l<c.length;l++){var d;if((u=(d=c[l]).getAttribute("data-href"))===o||u===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||a,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete s[e],p.parentNode.removeChild(p),n(r)},p.href=a,document.getElementsByTagName("head")[0].appendChild(p)})).then((function(){s[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,s){n=o[e]=[t,s]}));t.push(n[2]=a);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=function(e){return r.p+""+({0:"flowAPIDeps",1:"messages_ar-json",2:"messages_bg-json",3:"messages_ca-json",4:"messages_cs-json",5:"messages_da-json",6:"messages_de-json",7:"messages_el-json",8:"messages_en-json",9:"messages_es-json",10:"messages_fi-json",11:"messages_fr-json",12:"messages_he-json",13:"messages_hi-json",14:"messages_hu-json",15:"messages_id-json",16:"messages_it-json",17:"messages_ja-json",18:"messages_ko-json",19:"messages_lt-json",20:"messages_ms-json",21:"messages_nl-json",22:"messages_no-json",23:"messages_pl-json",24:"messages_pt-json",25:"messages_ro-json",26:"messages_ru-json",27:"messages_sk-json",28:"messages_sl-json",29:"messages_sv-json",30:"messages_th-json",31:"messages_tl-json",32:"messages_tr-json",33:"messages_uk-json",34:"messages_vi-json",35:"messages_zh-json",38:"stores-do-it-with-me-entry-point",39:"stores-shipping-apps-page",40:"stores-shipping-cards-shipping-and-fulfillment",41:"stores-shipping-installed-app-list",42:"stores-shipping-pickup-section"}[e]||e)+".chunk.min.js"}(e);var u=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",u.name="ChunkLoadError",u.type=s,u.request=r,n[1](u)}o[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="https://static.parastorage.com/services/wixstores-dashboard-shipping/53972e707c895db702a01f8927463652ca26c257f429e1f4575d5c93/",r.oe=function(e){throw console.error(e),e},window.__stylable3_runtime__=r.stylable=window.__stylable3_runtime__||function(e){function t(){return e}return e=e||{},function(){e.CacheStyleNodeRenderer=void 0;var t=function(e){var t=this;this.options=e,this.create=function(e,n){var s=t.options.createElement("style");return s.textContent=e.$css||"",s.setAttribute(t.options.attrKey,n),s.setAttribute("st-depth",e.$depth+""),s},this.hasKey=function(e){return e.hasAttribute(t.options.attrKey)},this.update=function(e,t){return t.textContent!==e.$css&&(t.textContent=e.$css||""),t},this.renderKey=function(e){return e.$id}};e.CacheStyleNodeRenderer=t}(),e.createDOMListRenderer=void 0,e.createDOMListRenderer=function(e){var t,n={},s=function(t){var s=e.renderKey(t),o=n[s];return o?e.update(t,o):function(t,s){return n[e.renderKey(t)]=s}(t,e.create(t,s))};return{render:function(o,r){if(void 0===r&&(r=[]),r.length){for(var a=void 0,i=t,l=0;l<r.length;l++)(a=s(r[l]))!==i?o.insertBefore(a,i||null):i=a.nextElementSibling;for(t=n[e.renderKey(r[0])];a.nextElementSibling&&e.hasKey(a.nextElementSibling);)o.removeChild(a.nextElementSibling)}else for(;t;)i=t.nextElementSibling,o.removeChild(t),t=i&&e.hasKey(i)?i:void 0},nodes:n}},function(){e.$=e.RuntimeRenderer=void 0;var n=t(),s=t(),o=function(){function e(){var e=this;this.styles=[],this.stylesMap={},this.renderer=null,this.window=null,this.id=null,this.update=function(){e.renderer&&e.renderer.render(e.window.document.head,e.styles)}}return e.prototype.init=function(e){!this.window&&e&&(e.__stylable_renderer_global_counter=e.__stylable_renderer_global_counter||0,this.id=e.__stylable_renderer_global_counter++,this.window=e,this.renderer=s.createDOMListRenderer(new n.CacheStyleNodeRenderer({attrKey:"st-id"+(this.id?"-"+this.id:""),createElement:e.document.createElement.bind(e.document)})),this.update())},e.prototype.onRegister=function(){this.window&&this.window.requestAnimationFrame(this.update)},e.prototype.register=function(e){var t=this.stylesMap[e.$id];t&&this.removeStyle(t);var n=this.findDepthIndex(e.$depth);this.styles.splice(n+1,0,e),this.stylesMap[e.$id]=e,this.onRegister()},e.prototype.removeStyle=function(e){var t=this.styles.indexOf(e);~t&&this.styles.splice(t,1),delete this.stylesMap[e.$id]},e.prototype.findDepthIndex=function(e){for(var t=this.styles.length;t--;){if(this.styles[t].$depth<=e)return t}return t},e.prototype.getStyles=function(e,t){var n=this;return this.sortStyles(e.map((function(e){return n.stylesMap[e]})),t)},e.prototype.sortStyles=function(e,t){var n=this;void 0===t&&(t=!1);var s=e.slice();return t&&s.sort((function(e,t){return n.styles.indexOf(e)-n.styles.indexOf(t)})),s.sort((function(e,t){return e.$depth-t.$depth})),s},e}();e.RuntimeRenderer=o,e.$=new o}(),function(){e.createRenderable=e.create=void 0;e.create=function(e,t,n,s,o,r){var a={namespace:e,classes:t.classes,keyframes:t.keyframes,vars:t.vars,stVars:t.stVars,cssStates:function(e){var t=[];for(var n in e){var s=e[n],o=i(n,s);o&&t.push(o)}return t.join(" ")},style:l,st:l,$id:o,$depth:s,$css:n};function i(t,n){return!1===n||null==n||n!=n?"":!0===n?function(t){return e+"--"+t}(t):function(t,n){return e+"---"+t+"-"+n.length+"-"+n.replace(/\s/gm,"_")}(t,n.toString())}function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n)if("string"==typeof n)e[e.length]=n;else if(1===t)for(var s in n){var o=n[s],r=i(s,o);r&&(e[e.length]=r)}}return e.join(" ")}return r&&r.register(a),a},e.createRenderable=function(e,t,n){return{$css:e,$depth:t,$id:n,$theme:!0}}}(),e}(),"undefined"!=typeof window&&r.stylable.$.init(window);var a=window.webpackJsonp__wix_wixstores_dashboard_shipping=window.webpackJsonp__wix_wixstores_dashboard_shipping||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=i;r(r.s=45)}({0:function(e,t){e.exports=_},1:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return p}));var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return(r=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n}function i(e,t,n,s){return new(n||(n=Promise))((function(o,r){function a(e){try{l(s.next(e))}catch(e){r(e)}}function i(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}l((s=s.apply(e,t||[])).next())}))}function l(e,t){var n,s,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function i(r){return function(i){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(o=2&r[0]?s.return:r[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,r[1])).done)return o;switch(s=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,s=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],s=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,i])}}}Object.create;function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var s,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(e){o={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}function p(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var s=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,i=r.length;a<i;a++,o++)s[o]=r[a];return s}Object.create},2:function(e,t){e.exports=React},3:function(e,t){e.exports=BusinessManagerAPI},4:function(e,t){e.exports=reactModuleContainer},45:function(e,t,n){"use strict";n.r(t);var s=n(1),o=n(7);Object(o.a)({module:{module:{moduleId:"WIXSTORES_DASHBOARD_SHIPPING",config:{moduleId:"WIXSTORES_DASHBOARD_SHIPPING",moduleConfigurationId:"STORES",appDefId:"1380b703-ce81-ff05-f115-39571d94dfcd",isCoreService:!0,routeNamespace:"wixstores-dashboard-shipping",translations:{enabled:!0,suspense:!0},sentry:{DSN:"https://2a7315072471472b92fa4b38d1463fe4@sentry.wixpress.com/1130",id:"2a7315072471472b92fa4b38d1463fe4",projectName:"wixstores-dashboard-shipping",teamName:"wixstores"},bi:"@wix/bi-logger-ec-sm",experiments:{scopes:["wixstores"]},topology:{staticsUrl:{artifactId:"com.wixpress.wixstores-dashboard-shipping"}},moduleBundleName:"module"},fedopsPath:"/home/builduser/work/d227d794790f5802/packages/wixstores-dashboard-shipping/fedops.json"}},pages:[],exportedComponents:[{component:{componentId:"stores-do-it-with-me-entry-point",componentType:"exported-component"},loadReactComponent:function(){return Object(s.b)(void 0,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return[4,n.e(38).then(n.bind(null,49))];case 1:return[2,e.sent().default]}}))}))}},{component:{componentId:"stores-shipping-installed-app-list",componentType:"exported-component"},loadReactComponent:function(){return Object(s.b)(void 0,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return[4,n.e(41).then(n.bind(null,50))];case 1:return[2,e.sent().default]}}))}))}},{component:{componentId:"stores-shipping-pickup-section",componentType:"exported-component"},loadReactComponent:function(){return Object(s.b)(void 0,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return[4,n.e(42).then(n.bind(null,51))];case 1:return[2,e.sent().default]}}))}))}},{component:{componentId:"stores-shipping-cards-shipping-and-fulfillment",componentType:"exported-component"},loadReactComponent:function(){return Object(s.b)(void 0,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return[4,n.e(40).then(n.bind(null,52))];case 1:return[2,e.sent().default]}}))}))}},{component:{componentId:"stores-shipping-apps-page",componentType:"exported-component"},loadReactComponent:function(){return Object(s.b)(void 0,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return[4,n.e(39).then(n.bind(null,53))];case 1:return[2,e.sent().default]}}))}))}}],useEssentials:!1,methods:[],optionalDeps:{loadOptionalFlowAPIDeps:function(){return Object(s.b)(void 0,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return[4,n.e(0).then(n.bind(null,44))];case 1:return[2,e.sent().default]}}))}))},asyncMessagesLoader:function(e){return n(6)("./messages_"+e+".json")},createBILogger:void 0}})},48:function(e,t){e.exports=ReactDOM},5:function(e,t){e.exports=Sentry},6:function(e,t,n){var s={"./messages_ar.json":[9,45],"./messages_bg.json":[10,46],"./messages_ca.json":[11,47],"./messages_cs.json":[12,48],"./messages_da.json":[13,49],"./messages_de.json":[14,50],"./messages_el.json":[15,51],"./messages_en.json":[16,52],"./messages_es.json":[17,53],"./messages_fi.json":[18,54],"./messages_fr.json":[19,55],"./messages_he.json":[20,56],"./messages_hi.json":[21,57],"./messages_hu.json":[22,58],"./messages_id.json":[23,59],"./messages_it.json":[24,60],"./messages_ja.json":[25,61],"./messages_ko.json":[26,62],"./messages_lt.json":[27,63],"./messages_ms.json":[28,64],"./messages_nl.json":[29,65],"./messages_no.json":[30,66],"./messages_pl.json":[31,67],"./messages_pt.json":[32,68],"./messages_ro.json":[33,69],"./messages_ru.json":[34,70],"./messages_sk.json":[35,71],"./messages_sl.json":[36,72],"./messages_sv.json":[37,73],"./messages_th.json":[38,74],"./messages_tl.json":[39,75],"./messages_tr.json":[40,76],"./messages_uk.json":[41,77],"./messages_vi.json":[42,78],"./messages_zh.json":[43,79]};function o(e){if(!n.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,3)}))}o.keys=function(){return Object.keys(s)},o.id=6,e.exports=o},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var s=n(3),o=n(4),r=n(2),a=n.n(r);function i(e,t){0}function l(e,{flowAPIDelegate:t}){const{component:n,asyncMessagesLoader:s,loadReactComponent:l,filesHook:u,resolveHook:c}=e;return d=>{const[p,g]=Object(r.useState)(),[m]=Object(r.useState)(()=>t.createGetFedopsLogger(n.componentId)),[f]=Object(r.useState)(()=>t.createGetComponentI18nInstance(s)),[h]=Object(r.useState)(()=>t.getComponentHooksFlowAPI(n,{fedopsLoggerOrGet:m,getComponentI18nInstance:f})),[y]=Object(r.useState)(()=>Object(o.ReactLoadableComponent)(n.componentId,async()=>{try{t.prefetchTranslations(s),t.prefetchExperiments();const o=null==c?void 0:c.call(t.bmModule,h),r=t.createBMComponentAPI(n,{fedopsLoggerOrGet:m,getComponentI18nInstance:f}),a=l(),[u,d,p]=await Promise.all([o,a,r]),g=n=>n?((e,{flowAPIDelegate:t,fedopsLoggerOrGet:n})=>s=>{var o,r;const a=t.flowAPIInstancesOrGet,l="function"==typeof n?null:n,{createFedopsLogger:u,Experiments:c,initI18n:d,asyncMessagesLoader:p,createBILogger:g}=s,m=null!=e.asyncMessagesLoader?t.getComponentI18nInstanceSync(e.asyncMessagesLoader,s):null,f="function"!=typeof a.i18nOrGet?a.i18nOrGet:null==d?void 0:d({locale:t.bmModule.moduleParams.accountLanguage,asyncMessagesLoader:p,useSuspense:null===(r=null===(o=t.module.config.translations)||void 0===o?void 0:o.suspense)||void 0===r||r,disableAutoInit:!0}),h=null!=l?l:null==u?void 0:u(e.component.componentId,Object.assign({},t.module.config.fedops)),y="function"!=typeof a.biLoggerOrGet?a.biLoggerOrGet:null==g?void 0:g({}),b="function"!=typeof a.experimentsOrGet?a.experimentsOrGet:c?new c:void 0;return t.createBMComponentAPISync(e.component,{flowAPIDeps:s,componentI18n:m,fedopsLogger:h,flowAPIInstances:{get i18n(){return i(),f},get biLogger(){return i(),y},get experiments(){return i(),b}}})})(e,{flowAPIDelegate:t,fedopsLoggerOrGet:m})(n):p;return Object.assign({default:d(g)},u)}catch(e){throw g(e),e}},null==u?void 0:u.call(t.bmModule,h)));if(p)throw p;return a.a.createElement(y,Object.assign({},d))}}var u=n(0);var c=n(5);const d=()=>{const{hostname:e}=window.location,{userAgent:t}=window.navigator,{cookie:n}=window.document,s=/(^|;)automation=sled:/.test(n),o=/localhost|127\.0\.0\.1|::1|\.local|local.wix.com|^$/i.test(e),r=/Googlebot|AdsBot-Google-Mobile|bingbot|BingPreview|facebookexternalhit|Baiduspider|YandexBot/i.test(t),a=/BonEcho|NewsGator|SeaMonkey|iTunes|Epiphany|Konqueror|Sleipnir|IceWeasel/i.test(t);return e=>(o?e.environment="development":r?e.environment="bot":a?e.environment="invalid_useragent":s&&(e.environment="sled"),e)},p=()=>({release:"wixstores-dashboard-shipping@53972e707c895db702a01f8927463652ca26c257f429e1f4575d5c93",beforeSend:d(),beforeBreadcrumb:(e,t)=>{const{category:n}=e,s=n&&("ui.click"===n||"ui.input"===n),o=t&&t.event&&t.event.target;if(s&&o){const t=o.closest("[data-hook]");if(t){const n=t.getAttribute("data-hook");e.message=o===t?`${e.message} [data-hook="${n}"]`:`${e.message} parent:[data-hook="${n}"]`}}return e}});function g(e,t){0}class m{constructor(e){this.module=e.module,this.optionalDeps=e.optionalDeps,this.bmModule=e.bmModule,this.useEssentials=e.useEssentials}get flowAPIInstancesOrGet(){const{optionalDeps:e,useEssentials:t}=this;return null==this._flowAPIInstancesOrGet&&(this._flowAPIInstancesOrGet=function({bmModule:e,module:t,optionalDeps:n,useEssentials:s}){var o;const{moduleParams:{accountLanguage:r="en"}}=e,{config:{translations:a}}=t;return{i18nOrGet:s&&(null==a?void 0:a.enabled)?e._essentials.createI18n({asyncMessagesLoader:n.asyncMessagesLoader,useSuspense:null===(o=null==a?void 0:a.suspense)||void 0===o||o,disableAutoInit:!0}):Object(u.once)(async()=>{var e;const{initI18n:t,asyncMessagesLoader:s}=await n.loadOptionalFlowAPIDeps();return null==t?void 0:t({locale:r,asyncMessagesLoader:s,useSuspense:null===(e=null==a?void 0:a.suspense)||void 0===e||e,disableAutoInit:!0})}),biLoggerOrGet:s&&n.createBILogger?n.createBILogger({biLoggerFactory:e._essentials.biLoggerFactory}):Object(u.once)(async()=>{const{createBILogger:t}=await n.loadOptionalFlowAPIDeps();return null==t?void 0:t({biLoggerFactory:s?e._essentials.biLoggerFactory:void 0})}),experimentsOrGet:s&&null!=t.config.experiments?e._essentials.createExperiments({scopes:[]}):Object(u.once)(async()=>{const{Experiments:e}=await n.loadOptionalFlowAPIDeps();return e?new e:void 0})}}({optionalDeps:e,bmModule:this.bmModule,module:this.module,useEssentials:t})),this._flowAPIInstancesOrGet}get moduleFlowAPI(){const{bmModule:e,module:t,optionalDeps:n}=this;return null==this._moduleFlowAPI&&(this._moduleFlowAPI=function({module:e,flowAPIInstancesOrGet:t,bmModule:n,optionalDeps:s,useEssentials:o}){const{config:r}=e,{sentry:a,appDefId:l}=r,{HttpClient:d,loadOptionalFlowAPIDeps:g}=s,m=(null==a?void 0:a.DSN)?o?n._essentials.createSentryLogger(Object.assign(Object.assign({},p()),{dsn:a.DSN})):new c.BrowserClient(Object.assign(Object.assign({},p()),{dsn:a.DSN})):void 0,f=d?new d(l):void 0,h=Object(u.once)(async()=>{const{createFedopsLogger:t}=await g();return i(),t(Object(u.kebabCase)(e.moduleId),Object.assign({},e.config.fedops))}),y=Object(u.once)(async()=>{const{i18nOrGet:e}=t,n="function"==typeof e?await e():e;return i(),n.isInitialized||await n.init(),n});return{getBILogger:Object(u.once)(async()=>{const{biLoggerOrGet:e}=t,n="function"==typeof e?await e():e;return i(),n}),getI18n:y,getExperiments:Object(u.once)(async()=>{var e;const{experimentsOrGet:n}=await t,s="function"==typeof n?await n():n;i();const o=null===(e=r.experiments)||void 0===e?void 0:e.scopes;return null!=o&&await Promise.all(o.map(e=>s.load(e))),s}),getModuleFedopsLogger:h,module:n,get moduleParams(){return n.moduleParams},sentry:m,get httpClient(){return i(),f},moduleInfo:e.config}}({module:t,bmModule:e,optionalDeps:n,flowAPIInstancesOrGet:this.flowAPIInstancesOrGet,useEssentials:this.useEssentials})),this._moduleFlowAPI}createGetFedopsLogger(e){const{bmModule:t,useEssentials:n,module:s}=this;return n?t._essentials.createFedopsLogger(e,Object.assign({},s.config.fedops)):Object(u.once)(async()=>{const t=await this.optionalDeps.loadOptionalFlowAPIDeps(),{createFedopsLogger:n}=t;return null==n?void 0:n(e,Object.assign({},this.module.config.fedops))})}createGetI18nInstance(e){var t,n;const{bmModule:s,useEssentials:o}=this;return o?s._essentials.createI18n({asyncMessagesLoader:e,useSuspense:null===(n=null===(t=this.module.config.translations)||void 0===t?void 0:t.suspense)||void 0===n||n,disableAutoInit:!0}):Object(u.once)(async()=>{var t,n;const s=await this.optionalDeps.loadOptionalFlowAPIDeps(),{initI18n:o}=s;return null==o?void 0:o({locale:this.bmModule.moduleParams.accountLanguage,asyncMessagesLoader:e,useSuspense:null===(n=null===(t=this.module.config.translations)||void 0===t?void 0:t.suspense)||void 0===n||n,disableAutoInit:!0})})}getComponentI18nInstanceSync(e,t){var n,s,o,r;const{bmModule:a,useEssentials:i}=this;if(i)return a._essentials.createI18n({asyncMessagesLoader:e,useSuspense:null===(s=null===(n=this.module.config.translations)||void 0===n?void 0:n.suspense)||void 0===s||s,disableAutoInit:!0});const{initI18n:l}=t;return null==l?void 0:l({locale:this.bmModule.moduleParams.accountLanguage,asyncMessagesLoader:e,useSuspense:null===(r=null===(o=this.module.config.translations)||void 0===o?void 0:o.suspense)||void 0===r||r,disableAutoInit:!0})}createBMMethodFlowAPI(e){const{moduleFlowAPI:t}=this,n=this.createGetFedopsLogger(e.methodId);return{get module(){return t.module},get moduleInfo(){return t.moduleInfo},get httpClient(){return t.httpClient},get sentry(){return t.sentry},get moduleParams(){return t.moduleParams},getI18n:t.getI18n,getExperiments:t.getExperiments,getBILogger:t.getBILogger,getModuleFedopsLogger:t.getModuleFedopsLogger,getFedopsLogger:"function"==typeof n?n:async()=>n,get fedopsLogger(){return g(),n}}}getComponentHooksFlowAPI(e,{fedopsLoggerOrGet:t,getComponentI18nInstance:n}){const{moduleFlowAPI:s}=this;return{get module(){return s.module},get moduleInfo(){return s.moduleInfo},get httpClient(){return s.httpClient},get sentry(){return s.sentry},get moduleParams(){return s.moduleParams},getModuleFedopsLogger:s.getModuleFedopsLogger,getI18n:null!=n?n:s.getI18n,getExperiments:s.getExperiments,getBILogger:s.getBILogger,componentInfo:{componentId:e.componentId,type:e.componentType},getFedopsLogger:"function"==typeof t?t:async()=>t,get fedopsLogger(){return g(),t}}}createBMComponentAPISync(e,{fedopsLogger:t,flowAPIDeps:n,componentI18n:s,flowAPIInstances:o}){const{moduleFlowAPI:r}=this;return{module:r.module,moduleInfo:r.moduleInfo,get httpClient(){return r.httpClient},get sentry(){return r.sentry},get moduleParams(){return r.moduleParams},get biLogger(){return o.biLogger},get i18n(){return null!=s?s:o.i18n},get experiments(){return o.experiments},get reactProviders(){return n},componentInfo:{componentId:e.componentId,type:e.componentType},get fedopsLogger(){return i(),t}}}async prefetchTranslations(e){var t;const{optionalDeps:n,bmModule:s}=this,{moduleParams:{accountLanguage:o}}=s,r=async t=>{null!=e?await e(t):null!=n.asyncMessagesLoader&&await n.asyncMessagesLoader(t)};try{await r(o)}catch(e){try{await r("en")}catch(e){const n="Default locale (en) not found!";console.error(n),null===(t=this.moduleFlowAPI.sentry)||void 0===t||t.captureException(new Error(n))}}}async prefetchExperiments(){var e;const{module:t}=this;if("function"!=typeof this.flowAPIInstancesOrGet.experimentsOrGet){const n=this.flowAPIInstancesOrGet.experimentsOrGet,s=null===(e=t.config.experiments)||void 0===e?void 0:e.scopes;if(s)return Promise.all(s.map(e=>n.load(e)))}}async createBMComponentAPI(e,{fedopsLoggerOrGet:t,getComponentI18nInstance:n}){const{optionalDeps:s,flowAPIInstancesOrGet:o}=this,{biLoggerOrGet:r,i18nOrGet:a,experimentsOrGet:l}=o,u=await s.loadOptionalFlowAPIDeps(),c="function"==typeof a?await a():a,d="function"==typeof r?await r():r,p="function"==typeof l?await l():l;return this.createBMComponentAPISync(e,{flowAPIDeps:u,fedopsLogger:"function"==typeof t?await t():t,componentI18n:await(null==n?void 0:n()),flowAPIInstances:{get i18n(){return i(),c},get biLogger(){return i(),d},get experiments(){return i(),p}}})}createGetComponentI18nInstance(e){return null!=e?async()=>{const t=this.createGetI18nInstance(e),n="function"==typeof t?await t():t;return n.isInitialized||await n.init(),n}:null}}function f({module:{module:e,configHook:t,initHook:n},pages:r,exportedComponents:a,methods:i,optionalDeps:u,useEssentials:c}){const{config:d,moduleId:p}=e,{moduleConfigurationId:g}=d;class f extends s.BusinessManagerModule{constructor(t){super(t),this.state={},this.setState=e=>this.state=e,g&&this.setModuleConfigurationId(g),this.flowAPIDelegate=new m({useEssentials:c,bmModule:this,module:e,optionalDeps:u})}register(t){this.moduleParams=t;const{flowAPIDelegate:n}=this,{moduleFlowAPI:u}=n,{sentry:c}=u;r.forEach(t=>{const{component:{componentId:o,componentName:r}}=t;c&&Object(s.registerPageComponentMonitors)(o,{sentryClient:c}),this.registerPageComponent(r,l(t,{module:e,flowAPIDelegate:n}))}),a.forEach(t=>{const{component:{componentId:s}}=t;this.registerComponentWithModuleParams(s,l(t,{module:e,flowAPIDelegate:n}),{suspense:!0})}),i.forEach(({method:e,fn:t})=>{o.ModuleRegistry.registerMethod(e.methodId,()=>t().bind(this,n.createBMMethodFlowAPI(e)))})}get _essentials(){if(!c)throw new Error("Cannot access Essentials when env var `YOSHI_BM_ESSENTIALS=true` isn't provided!");return this.appEssentials}init(e){const{flowAPIDelegate:t}=this;n&&n.call(this,t.moduleFlowAPI)}config(e,n){const{flowAPIDelegate:s}=this;t&&t.call(this,s.moduleFlowAPI,e,n)}prefetchFlowAPI(){var e,t;const{flowAPIDelegate:n}=this;return Promise.all([null===(t=(e=n.optionalDeps).asyncMessagesLoader)||void 0===t?void 0:t.call(e,n.bmModule.moduleParams.accountLanguage),n.optionalDeps.loadOptionalFlowAPIDeps()])}prefetchComponent(e){const t=this.prefetchFlowAPI(),n=a.find(({component:t})=>t.componentId===e);if(null!=n)return Promise.all([t,n.loadReactComponent()])}}Object(s.registerModule)(p,f)}}});
//# sourceMappingURL=module.bundle.min.js.map