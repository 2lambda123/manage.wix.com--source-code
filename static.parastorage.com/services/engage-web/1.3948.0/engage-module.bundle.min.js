!function(e){function t(t){for(var n,r,i=t[0],a=t[1],u=0,s=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&s.push(o[r][0]),o[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);s.length;)s.shift()()}var n={},r={35:0},o={35:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{40:1}[e]&&t.push(r[e]=new Promise((function(t,n){for(var o=({}[e]||e)+".chunk.min.css",a=i.p+o,u=document.getElementsByTagName("link"),s=0;s<u.length;s++){var c=(f=u[s]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(c===o||c===a))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){var f;if((c=(f=l[s]).getAttribute("data-href"))===o||c===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[e],d.parentNode.removeChild(d),n(i)},d.href=a,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){r[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=a);var u,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+""+({}[e]||e)+".chunk.min.js"}(e);var c=new Error;u=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,n[1](c)}o[e]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:s})}),12e4);s.onerror=s.onload=u,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://static.parastorage.com/services/engage-web/1.3948.0/",i.oe=function(e){throw console.error(e),e},window.__stylable3_runtime__=i.stylable=window.__stylable3_runtime__||function(e){function t(){return e}return e=e||{},function(){e.CacheStyleNodeRenderer=void 0;var t=function(e){var t=this;this.options=e,this.create=function(e,n){var r=t.options.createElement("style");return r.textContent=e.$css||"",r.setAttribute(t.options.attrKey,n),r.setAttribute("st-depth",e.$depth+""),r},this.hasKey=function(e){return e.hasAttribute(t.options.attrKey)},this.update=function(e,t){return t.textContent!==e.$css&&(t.textContent=e.$css||""),t},this.renderKey=function(e){return e.$id}};e.CacheStyleNodeRenderer=t}(),e.createDOMListRenderer=void 0,e.createDOMListRenderer=function(e){var t,n={},r=function(t){var r=e.renderKey(t),o=n[r];return o?e.update(t,o):function(t,r){return n[e.renderKey(t)]=r}(t,e.create(t,r))};return{render:function(o,i){if(void 0===i&&(i=[]),i.length){for(var a=void 0,u=t,s=0;s<i.length;s++)(a=r(i[s]))!==u?o.insertBefore(a,u||null):u=a.nextElementSibling;for(t=n[e.renderKey(i[0])];a.nextElementSibling&&e.hasKey(a.nextElementSibling);)o.removeChild(a.nextElementSibling)}else for(;t;)u=t.nextElementSibling,o.removeChild(t),t=u&&e.hasKey(u)?u:void 0},nodes:n}},function(){e.$=e.RuntimeRenderer=void 0;var n=t(),r=t(),o=function(){function e(){var e=this;this.styles=[],this.stylesMap={},this.renderer=null,this.window=null,this.id=null,this.update=function(){e.renderer&&e.renderer.render(e.window.document.head,e.styles)}}return e.prototype.init=function(e){!this.window&&e&&(e.__stylable_renderer_global_counter=e.__stylable_renderer_global_counter||0,this.id=e.__stylable_renderer_global_counter++,this.window=e,this.renderer=r.createDOMListRenderer(new n.CacheStyleNodeRenderer({attrKey:"st-id"+(this.id?"-"+this.id:""),createElement:e.document.createElement.bind(e.document)})),this.update())},e.prototype.onRegister=function(){this.window&&this.window.requestAnimationFrame(this.update)},e.prototype.register=function(e){var t=this.stylesMap[e.$id];t&&this.removeStyle(t);var n=this.findDepthIndex(e.$depth);this.styles.splice(n+1,0,e),this.stylesMap[e.$id]=e,this.onRegister()},e.prototype.removeStyle=function(e){var t=this.styles.indexOf(e);~t&&this.styles.splice(t,1),delete this.stylesMap[e.$id]},e.prototype.findDepthIndex=function(e){for(var t=this.styles.length;t--;){if(this.styles[t].$depth<=e)return t}return t},e.prototype.getStyles=function(e,t){var n=this;return this.sortStyles(e.map((function(e){return n.stylesMap[e]})),t)},e.prototype.sortStyles=function(e,t){var n=this;void 0===t&&(t=!1);var r=e.slice();return t&&r.sort((function(e,t){return n.styles.indexOf(e)-n.styles.indexOf(t)})),r.sort((function(e,t){return e.$depth-t.$depth})),r},e}();e.RuntimeRenderer=o,e.$=new o}(),function(){e.createRenderable=e.create=void 0;e.create=function(e,t,n,r,o,i){var a={namespace:e,classes:t.classes,keyframes:t.keyframes,vars:t.vars,stVars:t.stVars,cssStates:function(e){var t=[];for(var n in e){var r=e[n],o=u(n,r);o&&t.push(o)}return t.join(" ")},style:s,st:s,$id:o,$depth:r,$css:n};function u(t,n){return!1===n||null==n||n!=n?"":!0===n?function(t){return e+"--"+t}(t):function(t,n){return e+"---"+t+"-"+n.length+"-"+n.replace(/\s/gm,"_")}(t,n.toString())}function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n)if("string"==typeof n)e[e.length]=n;else if(1===t)for(var r in n){var o=n[r],i=u(r,o);i&&(e[e.length]=i)}}return e.join(" ")}return i&&i.register(a),a},e.createRenderable=function(e,t,n){return{$css:e,$depth:t,$id:n,$theme:!0}}}(),e}(),"undefined"!=typeof window&&i.stylable.$.init(window);var a=window.webpackJsonp__wix_engage_web=window.webpackJsonp__wix_engage_web||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var c=u;i(i.s=1371)}({0:function(e,t){e.exports=React},1051:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InboxSettingsLazyComponent=void 0;var r=n(346),o=n(1278);t.InboxSettingsLazyComponent=o.createLazyComponent({componentName:r.inboxSettingsComponentName,bundleFile:"inbox-settings"})},1278:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.createLazyComponent=t.getChatInstance=t.getInstance=t.getModuleParams=void 0;var a=n(43),u=n(16);t.getModuleParams=function(){return u.getModule(u.ModuleId.Engage).moduleParams},t.getInstance=function(){var e=u.getModule(u.ModuleId.Engage).appDefId;return u.getCurrentInstance(e)},t.getChatInstance=function(){return u.getCurrentInstance(u.appDefIds.wixChat)},t.createLazyComponent=function(e){var t=e.componentName,n=e.bundleFile,r=e.dependencies,u=void 0===r?[]:r;return function(e){function r(r){var o=function(e){return e?"":".min"},a={files:i(u,[""+r.config.topology.inboxSettingsStaticsUrl+n+".bundle"+o(r.debug)+".js",""+r.config.topology.inboxSettingsStaticsUrl+n+o(r.debug)+".css",r.config.topology.externalChatWidgetStaticsUrl+"external-chat-widget.umd"+o(r.debug)+".js"]),component:t};return e.call(this,r,a)||this}return o(r,e),r}(a.ReactLazyComponent)}},1371:function(e,t,n){"use strict";n.r(t);var r,o=n(16),i=n(76),a=n(292),u=function(e){window.fedops=window.fedops||{},window.fedops.apps=window.fedops.apps||{},window.fedops.apps[e]={startLoadTime:window.performance&&window.performance.now&&window.performance.now()};try{window.fedops.sessionId=window.localStorage.getItem("fedops.logger.sessionId")}catch(e){}window.fedops.sessionId=window.fedops.sessionId||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(new Image).src="//frog.wix.com/fed?appName="+e+"&src=72&evid=14&session_id="+window.fedops.sessionId+"&_="+Math.random().toString()},s=n(217),c=n(43),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e){return e?"":".min"},d=function(e){function t(t){u(s.a.INBOX_TAB);var n={files:[t.config.topology.engageWebStaticsUrl+"register-engage-conversation-component.bundle"+f(t.debug)+".js",t.config.topology.engageWebStaticsUrl+"register-engage-conversation-component"+f(t.debug)+".css"],component:i.d};return e.call(this,t,n)||this}return l(t,e),t}(c.ReactLazyComponent),p=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(e){return e?"":".min"},h=function(e){function t(t){u(s.a.INBOX);var n={files:[t.config.topology.engageWebStaticsUrl+"register-engage-component.bundle"+g(t.debug)+".js",t.config.topology.engageWebStaticsUrl+"register-engage-component"+g(t.debug)+".css"],component:i.c};return e.call(this,t,n)||this}return p(t,e),t}(c.ReactLazyComponent),y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(e){return e?"":".min"},b=function(e){function t(t){var n={files:[t.config.topology.engageWebStaticsUrl+"send-message-widget-component.bundle"+v(t.debug)+".js",t.config.topology.engageWebStaticsUrl+"send-message-widget-component"+v(t.debug)+".css"],component:i.g};return e.call(this,t,n)||this}return y(t,e),t}(c.ReactLazyComponent),m=n(22),w=n(293),_=n.n(w),x=n(1051),O=n(294),S=n(230),I=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},C=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},M=function(){return I(void 0,void 0,void 0,(function(){var e;return C(this,(function(t){switch(t.label){case 0:return[4,Object(m.d)("chatSdk")];case 1:return[4,(e=t.sent()).waitForInitialized()];case 2:return t.sent(),[2,e]}}))}))},P=function(){return I(void 0,void 0,Promise,(function(){var e,t;return C(this,(function(n){switch(n.label){case 0:return[4,M()];case 1:return e=n.sent(),t=Object(m.h)().instanceId,[2,e.getUnreadCount({participantIds:[t]})]}}))}))},A=function(e){var t=e.count;return I(void 0,void 0,void 0,(function(){return C(this,(function(e){return Object(o.showBadge)({itemId:"inbox",type:o.BadgeType.COUNT,count:t}),[2]}))}))},N=function(){return e=A,I(void 0,void 0,Promise,(function(){var t,n;return C(this,(function(r){switch(r.label){case 0:return[4,M()];case 1:return t=r.sent(),n=Object(m.h)().instanceId,[2,t.subscribeToGlobalUnreadStatus({callback:e,filter:{participantIds:[n]}})]}}))}));var e},j=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},E=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},R=new function(){var e=this;this.showBadge=function(){return j(e,void 0,void 0,(function(){var e;return E(this,(function(t){switch(t.label){case 0:return this.isShown?[2]:(this.isShown=!0,[4,P()]);case 1:return e=t.sent(),this.isShown?(Object(o.showBadge)({itemId:"inbox",type:o.BadgeType.COUNT,skin:o.CountBadgeSkin.SUCCESS,count:e.chatroomCount}),[2]):[2]}}))}))},this.hideBadge=function(){e.isShown&&Object(o.hideBadge)({itemId:"inbox",type:o.BadgeType.COUNT}),e.isShown=!1},this.showOrHide=function(){window.location.pathname.includes("/inbox")?e.hideBadge():e.showBadge()},this.initialize=function(){e.showOrHide(),window.addEventListener("popstate",e.showOrHide),Object(o.onNavigationCompleted)(e.showOrHide)},this.isShown=!1},T=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},k=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},U=function(){function e(e,t){this.httpClient=e,this.moduleParams=t}return e.prototype.migrateAsync=function(){this.httpClient.post("/_api/crm-inbox-server/core-chat/migrate-async",{}).then((function(e){return e.data}))},e.prototype.getSitePages=function(){return this.httpClient.get("_api/inbox-settings-server/v1/inbox/settings/site-pages",{headers:{Authorization:Object(m.g)()}}).then((function(e){return e.data}))},e.prototype.getTranslations=function(e){return T(this,void 0,Promise,(function(){var t,n;return k(this,(function(r){switch(r.label){case 0:return t=this.moduleParams.config.topology.engageWebStaticsUrl,n=t+"assets/locale/inbox-module/module_"+e+".json",[4,this.httpClient.get(n)];case 1:return[2,r.sent().data]}}))}))},e}(),B=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(){return(D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},L=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},z=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},V=window.ModuleRegistry,W=function(e){function t(t){var r=e.call(this,t)||this;return r.keyboardsConfiguration=[],r.triggersConfig=function(e){return L(r,void 0,void 0,(function(){var t,n,r,o,a=this;return z(this,(function(u){switch(u.label){case 0:return[4,this.translations];case 1:return t=u.sent(),n=function(){return L(a,void 0,void 0,(function(){var n=this;return z(this,(function(r){return[2,Object(m.k)()?{"send-message":{displayName:t.send_message_name,displayInfo:t.send_message_info,componentName:i.h,verifyConfig:function(r){var o=r.actionConfig;return L(n,void 0,void 0,(function(){var n,r,i;return z(this,(function(a){return n=JSON.parse(o).message,r=!n||0===n.length,i=e.enabled("specs.crm.AutomationsSpecificActionErrors"),[2,!r||!!i&&Promise.reject(t["send_message_widget.message.error"])]}))}))},generateConfig:function(e){var t=e.actionComponentInfo;return L(n,void 0,void 0,(function(){var e,n;return z(this,(function(r){return e=t.message,n=t.onlyWhenAvailable,[2,JSON.stringify({message:e,onlyWhenAvailable:n})]}))}))}}}:null]}))}))},r=function(){return{"chatMessage/sentByContact":{displayName:t.automation_events_chatMessageSentByContact_name,displayDescription:t.automation_events_chatMessageSentByContact_description,displayColor:"#2682CD",supportsImmediateChat:!0}}},o={appDefId:this.appDefId,appTitle:t.automation_events_app_title},[4,n()];case 2:return[2,(o.actions=u.sent(),o.events=D({"chatMessage/sentToContact":{displayName:t.automation_events_chatMessageSentToContact_name,displayDescription:t.automation_events_chatMessageSentToContact_description,displayColor:"#2682CD",supportsImmediateChat:!1}},r()),o.generateEventSchema=function(){return Promise.resolve({summary:{displayName:t.automation_events_chatMessageSentToContact_summary,type:"string"}})},o)]}}))}))},r.triggersVisitorsConfig=function(){return L(r,void 0,void 0,(function(){var e,t=this;return z(this,(function(n){switch(n.label){case 0:return[4,this.translations];case 1:return e=n.sent(),[2,{appDefId:o.appDefIds.chat,appTitle:e.automation_events_visitors_app_title,actions:{},events:{"chatVisitor/visitOnPage":{displayName:e.automation_events_visitOnPage_name,displayDescription:e.automation_events_visitOnPage_description,providesContactInfo:!1,displayColor:"#2682CD",supportsImmediateChat:!0,conditions:{pageId:{displayName:e.automation_events_visitOnPage_choosePageSelectionType,optionalConditionHeader:e.automation_events_visitOnPage_choosePage,useConditionOptionText:e.automation_events_visitOnPage_choosePage_specificPages,dontUseConditionOptionText:e.automation_events_visitOnPage_choosePage_allPages,options:function(){return L(t,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,this.moduleServerApi.getSitePages()];case 1:return[2,e.sent().pages.reduce((function(e,t){var n;return D(D({},e),((n={})[t.id]=t.title,n))}),{})]}}))}))}}},generateEventSchema:function(){return Promise.resolve({visitorId:{displayName:e.automation_events_visitOnPage_visitorId,type:"string"},pageId:{displayName:e.automation_events_visitOnPage_pageId,type:"string"},pageName:{displayName:e.automation_events_visitOnPage_pageName,type:"string"}})}}}}]}}))}))},r.getKeyboardsConfiguration=function(){return r.keyboardsConfiguration},r.appDefId=o.appDefIds.engage,V.registerComponent(i.e,(function(){return Object(a.a)(d)})),V.registerComponent(i.f,(function(){return h})),V.registerComponent(i.h,(function(){return Object(a.a)(b)})),V.registerComponent("inbox-settings",(function(){return x.InboxSettingsLazyComponent})),V.registerComponent(i.b,(function(){return Object(c.ReactLoadableComponent)(i.b,(function(){return n.e(40).then(n.bind(null,1404))}))})),V.registerMethod("inbox.getChatAppRegistry",(function(){return function(){return _.a}})),V.registerMethod("inbox.getUnreadCount",(function(){return function(){return P()}})),r}return B(t,e),t.prototype.init=function(e){var t,n=this;this.moduleParams=e,this.moduleServerApi=new U(this.appEssentials.httpClient,e),this.translations=this.moduleServerApi.getTranslations(e.accountLanguage),this.conductExperiments().then((function(e){e.enabled("specs.chat.UnreadMessagesOnSideBarRealTime")?N():e.enabled("specs.chat.UnreadMessagesOnSideBar")&&R.initialize(),n.moduleServerApi.migrateAsync(),Object(o.configModule)(n.moduleId,o.ModuleId.Triggers,n.triggersConfig(e)),Object(o.configModule)(n.moduleId,o.ModuleId.Triggers,n.triggersVisitorsConfig()),Object(o.registerPageComponentMonitors)(o.PageComponentId.Engage,{sentryClient:Object(O.a)()}),Object(o.registerPageComponentMonitors)(o.PageComponentId.InboxSettings,{sentryClient:Object(O.b)()})}));var r={componentName:i.e,priority:10,shouldRender:function(){return Promise.resolve(!0)},tabName:"Inbox"};(null===(t=e.liveSite)||void 0===t?void 0:t.isSitePublished)&&Object(m.g)()&&Object(o.configModule)(this.moduleId,o.ModuleId.Contacts,r);var a={componentName:i.e,shouldRender:function(){return Promise.resolve(!0)},tabName:function(){return n.translations.then((function(e){return e.tab_name}))},type:"contact-page-tab-widget"};Object(o.configModule)(this.moduleId,o.ModuleId.Contacts,a),Object(o.configModule)(this.moduleId,"INBOX_KEYBOARDS",{chatAppsRegistry:_.a})},t.prototype.config=function(e,t){if(t&&"inbox-keyboard"===t.configNamespace){var n=t.keyboardConfig;this.keyboardsConfiguration.push(n)}},t.prototype.conductExperiments=function(){return L(this,void 0,void 0,(function(){var e;return z(this,(function(t){switch(t.label){case 0:return[4,(e=new S.a({scope:"my-account"})).ready()];case 1:return t.sent(),[2,e]}}))}))},t}(o.BusinessManagerModule);Object(o.registerModule)(o.ModuleId.Engage,W),window.__IS_BUSINESS_MANAGER__=!0,window.__BROWSER_NOTIFICATIONS_WORKERS_PATH__="/browser-notifications-test-app/"},153:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){var t;this.experiments=null!==(t=e.experiments)&&void 0!==t?t:{}}return e.prototype.get=function(e){return this.experiments[e]},e.prototype.enabled=function(e){return"true"===this.get(e)},e.prototype.pending=function(){return!1},e.prototype.ready=function(){return Promise.resolve()},e.prototype.all=function(){return this.experiments},e}()},158:function(e,t){e.exports=Sentry},16:function(e,t){e.exports=BusinessManagerAPI},2:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return u})),n.d(t,"__param",(function(){return s})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__createBinding",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return g})),n.d(t,"__read",(function(){return h})),n.d(t,"__spread",(function(){return y})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return m})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return _})),n.d(t,"__makeTemplateObject",(function(){return x})),n.d(t,"__importStar",(function(){return O})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return I})),n.d(t,"__classPrivateFieldSet",(function(){return C}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function u(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function s(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function g(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function m(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{(n=o[e](t)).value instanceof b?Promise.resolve(n.value.v).then(s,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function s(e){u("next",e)}function c(e){u("throw",e)}function l(e,t){e(t),i.shift(),i.length&&u(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=g(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={INBOX:"inbox",INBOX_TAB:"inbox-tab"}},22:function(e,t,n){"use strict";n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"h",(function(){return v})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return w})),n.d(t,"i",(function(){return _})),n.d(t,"f",(function(){return x})),n.d(t,"m",(function(){return O})),n.d(t,"d",(function(){return S}));var r=n(16),o=n(43),i=n(31),a=n(61),u=n.n(a),s=n(30),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},f=function(){try{return Object(r.isAppInstalled)(r.appDefIds.chat)}catch(e){return console.warn("error",e),!1}},d=function(){return Object(r.isAppInstalled)(r.appDefIds.virtualNumbers)},p=function(){return d()&&window.ModuleRegistry.registeredMethods["virtual-numbers.getBusinessNumber"]?window.ModuleRegistry.invoke("virtual-numbers.getBusinessNumber"):void 0},g=Object(s.memoize)((function(e){return window.ModuleRegistry.invoke("virtualNumbers.canSendSMSToNumber",e)})),h=function(e){return window.ModuleRegistry.registeredMethods["virtualNumbers.canSendSMSToNumber"]?g(e):Promise.resolve(!0)},y=function(){return Object(r.getModule)(r.ModuleId.Engage)},v=function(){return y().moduleParams},b=function(){return!!v().liveSite},m=function(){return Object(r.getCurrentInstance)(y().appDefId)},w=function(){return"/editor/"+v().metaSiteId+"?editorSessionId="+u()()+"&openpanel=market:appDefId:"+r.appDefIds.chat},_=function(e){return void 0===e&&(e="inbox"),"/dashboard/"+v().metaSiteId+"/virtual-numbers/settings?ref="+e+"&"+Object(r.buildBackToSiteQueryString)()},x=function(e){var t=e.subRoute,n=void 0===t?"":t,r=e.queryParam,o=void 0===r?"":r,i=e.referrer,a=void 0===i?"inbox":i;return"/dashboard/"+v().metaSiteId+"/inbox/settings/"+n+"?referralInfo="+a+"&"+o},O=function(e){var t=void 0===e?{}:e,n=t.subRoute,a=void 0===n?"":n,u=t.queryParam,s=void 0===u?"":u,c=t.openInNewTab,l=void 0!==c&&c;if(l)window.open(x({subRoute:a,queryParam:s}));else{var f=a;f+=s?"?"+s:"",o.ModuleRegistry.invoke("businessManager.navigateTo",{pageComponentId:r.PageComponentId.InboxSettings,contextData:{appState:f||null,appDefId:i.g,referrer:"Inbox"},openInNewTab:l,viewId:r.PageComponentId.InboxSettings})}},S=function(e){return c(void 0,void 0,Promise,(function(){return l(this,(function(t){return[2,new Promise((function(t){var n=function(){return window[e]},r=n();r&&t(r);var o=setInterval((function(){var e=n();if(e)return clearInterval(o),t(e)}),100);setTimeout((function(){clearInterval(o)}),1e4)}))]}))}))}},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r,o=n(2);!function(e){e.Default="",e.OwnerAccount="owner-account"}(r||(r={}));var i="__WIXEXP_USE_NEW_API",a="__WIXEXP_CONDUCTION_METHOD_",u="__WIXEXP_OWNER_ACCOUNT_ID_",s="__WIXEXP_LOGGED_IN_USER_ID_";function c(e,t,n){var r,o;if("undefined"!=typeof self)if("function"==typeof n){if(void 0!==n(self[t]))return(r={})[e]=n(self[t]),r}else if(typeof self[t]===n)return(o={})[e]=self[t],o;return{}}var l=function(e){return Object.keys(r).filter((function(t){return r[t]===e})).length>0?e:void 0};function f(e){return function(e){return e.conductionMethod===r.OwnerAccount&&e.siteOwnerId&&e.loggedInUserId}(e)?{forSiteOwner:{siteOwnerId:e.siteOwnerId,loggedInUserId:e.loggedInUserId}}:{}}var d=function(e){return"string"==typeof e&&""!==e};function p(e){void 0===e&&(e={});var t=e.forSiteOwner,n=e.forSiteVisitors,r=e.overrideCriteria,o="";if(["forSiteOwner","forSiteVisitors"].reduce((function(t,n){return e[n]?t+1:t}),0)>1)throw new Error('Only one of "forSiteOwner" or "forSiteVisitors" is accepted.');return t&&(o+=function(e){return d(e.loggedInUserId)&&d(e.siteOwnerId)?"&requestContext.forSiteOwner.loggedInUserId="+e.loggedInUserId+"&requestContext.forSiteOwner.siteOwnerId="+e.siteOwnerId:""}(t)),n&&(o+=function(e){return d(e.visitorId)&&d(e.siteOwnerId)?"&requestContext.forSiteVisitors.visitorId="+e.visitorId+"&requestContext.forSiteVisitors.siteOwnerId="+e.siteOwnerId:""}(n)),r&&(o+=function(e){return d(e.entityId)?"&requestContext.overrideCriteria.entityId="+e.entityId:""}(r)),o}function g(e){if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e}var h={conductAllInScope:"/_api/wix-laboratory-server/v1/laboratory/platform/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/v1/laboratory/platform/conductExperiment"},y={conductAllInScope:"/_api/wix-laboratory-server/laboratory/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/laboratory/conductExperiment"};function v(e,t){return-1!==e.indexOf(t?h.conductAllInScope:y.conductAllInScope)}var b=function(e,t,n){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=!1),n?h.conductExperiment+"?key="+encodeURIComponent(e)+"&fallbackValue="+encodeURIComponent(t):y.conductExperiment+"?key="+encodeURIComponent(e)+"&fallback="+encodeURIComponent(t)};function m(e,t,n){var r=""+b(t,"",n);return e.includes(r)}var w=function(){function e(){this.urlMap=new Map,this.pendingUrlMap=new Map}return e.prototype.addUrlRequest=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n=this;return Object(o.__generator)(this,(function(r){switch(r.label){case 0:return this.pendingUrlMap.set(e,t),[4,t.then((function(t){return n.addUrlResponse(e,t)}))];case 1:return r.sent(),[2]}}))}))},e.prototype.addUrlResponse=function(e,t){this.urlMap.set(e,t)},e.prototype.getUrlResponse=function(e){return this.urlMap.get(e)},e.prototype.getUrlRequest=function(e){return this.pendingUrlMap.get(e)},e.prototype.getExperimentValue=function(e,t){var n,r;try{for(var i=Object(o.__values)(this.urlMap.keys()),a=i.next();!a.done;a=i.next()){var u=a.value;if(m(u,e,t))return this.urlMap.get(u);if(v(u,t)){var s=g(this.urlMap.get(u));if("object"==typeof s&&e in s)return s[e]}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e}();!function(){function e(){}e.prototype.addUrlRequest=function(){},e.prototype.addUrlResponse=function(){},e.prototype.getUrlResponse=function(){},e.prototype.getUrlRequest=function(){},e.prototype.getExperimentValue=function(){}}();function _(){return void 0===self.experimentsCacheV2&&(self.experimentsCacheV2=new w),self.experimentsCacheV2}var x=n(153),O=function(){},S=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this,r=Object(o.__assign)(Object(o.__assign)(Object(o.__assign)(Object(o.__assign)({},c("useNewApi",i,"boolean")),c("conductionMethod",a,l)),c("siteOwnerId",u,"string")),c("loggedInUserId",s,"string"));return n.useNewApi=void 0!==t.useNewApi?t.useNewApi:r.useNewApi||!1,n.experiments=t.experiments||{},n.loaders=new Map,n.baseUrl=(n.useNewApi,t.baseUrl||""),n.requestContext=t.requestContext||f(r),n.onError=t.onError||O,t.scope&&n.load(t.scope),t.scopes&&t.scopes.forEach(n.load.bind(n)),n}return Object(o.__extends)(t,e),t.prototype.add=function(e){this.experiments=Object(o.__assign)(Object(o.__assign)({},this.experiments),e)},t.prototype._addLoader=function(e,t){var n=this;return this.loaders.set(e,t),t.then((function(){n.loaders.delete(e)})),t},t.prototype._getUrlWithFallback=function(e,t){var n=this,r=_().getUrlResponse(e);if(void 0!==r)return Promise.resolve(r);var o=_().getUrlRequest(e);if(void 0!==o)return o;var i=this.loaders.get(e);if(void 0!==i)return i;var a=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="text",r.withCredentials=!0,r.onload=function(){r.status>=200&&r.status<400?t(r.responseText):n(new Error("Failed to load "+e+", status "+r.status))},r.onerror=function(){return n(new Error("Failed to load "+e))},r.send()}))}(e);return _().addUrlRequest(e,a),a.catch((function(e){return n.onError(e),t}))},t.prototype.load=function(e){var t=this,n=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),t?h.conductAllInScope+"?scope="+encodeURIComponent(e):y.conductAllInScope+"?scope="+encodeURIComponent(e)}(e,this.useNewApi),r=this.useNewApi?p(this.requestContext):"",o=""+this.baseUrl+n+r,i=this._getUrlWithFallback(o,"{}").then((function(e){return g(e)})).then((function(e){return t.useNewApi?e.values:e})).then((function(e){return t.add(e),e}));return this._addLoader(o,i)},t.prototype.conduct=function(e,t){var n=this,r=_().getExperimentValue(e,this.useNewApi);if(void 0!==r)return this._addConductResult(e,r);var o=b(e,t,this.useNewApi),i=this.useNewApi?p(this.requestContext):"",a=""+this.baseUrl+o+i,u=this._getUrlWithFallback(a,null!=t?t:"").then((function(t){return n._addConductResult(e,t)}));return this._addLoader(a,u)},t.prototype.pending=function(){return!!this.loaders.size},t.prototype.ready=function(){return Promise.all(Array.from(this.loaders.values()))},t.prototype._addConductResult=function(e,t){var n,r=this.useNewApi?JSON.parse(t).value:t;return this.add(((n={})[e]=r,n)),Promise.resolve(r)},t}(x.a)},292:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e){var t=window.ModuleRegistry.getModule("ENGAGE").moduleParams;return function(n){return r.createElement(e,o({},n,t))}}},293:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(526),a=(r=i)&&r.__esModule?r:{default:r};t.default=o({},a.default)},294:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var r,o,i=n(158),a=n(30),u=n(22),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(e){var t=e.split("/").filter(Boolean);return t.length>1?Object(a.last)(t):null},l=["unpkg/@wix/ck-editor-angular"],f=function(e,t){if(t&&"ui.click"===e.category){var n=t.event.target.getAttribute("data-hook");n&&(e.message=n)}if(t&&"xhr"===e.category){var r=t.xhr.response;if(r){var o=e.data.concat("response "+r);e.data=o}}return e},d=function(e,t){return function(e,t){if(t&&t.originalException){var n=t.originalException.data;n&&(n.level&&(e.level=n.level),n.extraData&&(e.extra=s(s({},e.extra),n.extraData)))}}(e,t),e},p=function(){if(r)return r;var e=c(Object(u.h)().config.topology.engageWebStaticsUrl);return r=new i.BrowserClient({dsn:"https://a9bd970380d84cd5a459ca48c4171497@sentry.wixpress.com/29",enabled:!!e,release:"engage-web@"+e,blacklistUrls:l,beforeSend:d,beforeBreadcrumb:f}),e||console.warn("inbox Sentry was not initialized!"),r},g=function(){if(o)return o;var e=c(Object(u.h)().config.topology.inboxSettingsStaticsUrl);return o=new i.BrowserClient({dsn:"https://a7eaee13b06e48678e08fb3cb3c0ee68@sentry.wixpress.com/30",enabled:!!e,release:"inbox-settings@"+e,blacklistUrls:l,beforeSend:d,beforeBreadcrumb:f}),e||console.warn("inbox-settings Sentry was not initialized!"),o}},30:function(e,t){e.exports=_},31:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return i})),n.d(t,"m",(function(){return a})),n.d(t,"l",(function(){return u})),n.d(t,"n",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"r",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return g})),n.d(t,"p",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"q",(function(){return b})),n.d(t,"s",(function(){return m})),n.d(t,"t",(function(){return w})),n.d(t,"i",(function(){return _})),n.d(t,"o",(function(){return o})),n.d(t,"k",(function(){return x})),n.d(t,"j",(function(){return O}));var o,i="07a5ff49-fb4d-4ae6-8803-6cd9ecb9bba7",a="feae3178-a9ad-4321-a252-876095e44b35",u="InboxOnboardingId",s="inbox-setup",c="inbox",l="141fbfae-511e-6817-c9f0-48993a7547d1",f=1e3,d="https://www.wixinbox-feedback.com/",p="https://support.wix.com",g=p+"/en/ascend-by-wix/wix-inbox",h="https://wixmp-9127dea18607b759d29e6784.wixmp.com/Inbox/onboarding/setup_video.mp4",y="https://support.wix.com/en/article/wix-inbox-connecting-your-gmail-account",v="https://support.wix.com/article/wix-inbox-connecting-your-facebook-page",b="https://support.wix.com/en/article/wix-inbox-managing-your-settings#email-settings",m=((r={})["062bd3a6-0d87-4394-a972-57190511adb9"]={isAllowedToSendMessage:!0},r[i]={isAllowedToSendMessage:!1},r[a]={isAllowedToSendMessage:!1},r),w={CONTACT_PANEL_CLOSE:"contact-panel.closed-by-user",CHAT_AVAILABILITY_ONBOARDING_SHOWN:"CHAT_AVAILABILITY_ONBOARDING_SHOWN",MESSAGES_SENT:"MESSAGES_SENT",DESKTOP_NOTIFICATIONS_DISMISSED:"DESKTOP_NOTIFICATIONS_DISMISSED"},_="wix-engage-web";!function(e){e.INBOX="engage-web",e.INBOX_CONVERSATION="inbox-conversation"}(o||(o={}));var x="1486a892-1fd9-49fa-8681-360ca51631b0",O="add338f9-7645-4f4e-a49a-090273528244"},346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConnectMailboxSuccessModal=t.getConnectMailboxModal=t.connectMailboxSuccessModalComponentName=t.connectMailboxSuccessModalLazyComponentName=t.connectMailboxModalComponentName=t.connectMailboxModalLazyComponentName=t.inboxSettingsLazyComponentName=t.inboxSettingsComponentName=void 0;var r=n(43);t.inboxSettingsComponentName="inbox-settings-component",t.inboxSettingsLazyComponentName="inbox-settings-lazy",t.connectMailboxModalLazyComponentName="inbox-settings@connect-mailbox-modal-lazy",t.connectMailboxModalComponentName="inbox-settings@connect-mailbox-modal",t.connectMailboxSuccessModalLazyComponentName="inbox-settings@connect-mailbox-success-modal-lazy",t.connectMailboxSuccessModalComponentName="inbox-settings@connect-mailbox-success-modal",t.getConnectMailboxModal=function(){return r.ModuleRegistry.component(t.connectMailboxModalLazyComponentName)},t.getConnectMailboxSuccessModal=function(){return r.ModuleRegistry.component(t.connectMailboxSuccessModalLazyComponentName)}},361:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},362:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},43:function(e,t){e.exports=reactModuleContainer},526:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=n(527),a=(r=i)&&r.__esModule?r:{default:r};t.default=(o=new a.default,{registerApp:function(e){var t=e.appName,n=e.component,r=e.options;return o.registerApp({appName:t,component:n,options:r})},removeApp:function(e){return o.removeApp(e)},isAppRegistered:function(e){return o.isAppRegistered(e)},getComponentByApp:function(e){return o.getComponentByApp(e)},getConfigByApp:function(e){return o.getConfigByApp(e)}})},527:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(528);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._registry=new Map}return r(e,[{key:"registerApp",value:function(e){var t=e.appName,n=e.component,r=e.options;if(!t)throw o.MISSING_APP_NAME;if(!n)throw o.MISSING_COMPONENT;if(this.isAppRegistered(t))throw o.APP_NAME_ALREADY_EXIST;this._registry.set(t,{component:n,config:r})}},{key:"removeApp",value:function(e){this._registry.delete(e)}},{key:"isAppRegistered",value:function(e){return this._registry.has(e)}},{key:"getComponentByApp",value:function(e){return this._registry.get(e).component}},{key:"getConfigByApp",value:function(e){return this._registry.get(e).config}}]),e}();t.default=i},528:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.APP_NAME_ALREADY_EXIST=new Error("this appName already exist in app registry."),t.MISSING_APP_NAME=new Error("missing appName param in registerApp."),t.MISSING_COMPONENT=new Error("missing component param in registerApp.")},54:function(e,t){e.exports=ReactDOM},61:function(e,t,n){var r=n(361),o=n(362);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},76:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r="engage-crazy-chat",o="engage-crazy-chat-lazy",i="engage-conversation",a="engage-conversation-lazy",u="send-message-widget",s="send-message-widget-lazy",c="download-one-app-modal-component",l="assignee-dropdown-lazy"}});
//# sourceMappingURL=engage-module.bundle.min.js.map