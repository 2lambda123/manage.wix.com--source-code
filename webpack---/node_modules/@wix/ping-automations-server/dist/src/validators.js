"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isValidPingAutomationNotifyActionConfig = void 0;
const possibleChannels = ['WEB', 'MOBILE', 'BROWSER'];
const isTitleValid = title => title && typeof title === 'string';
const isBodyValid = body => body && typeof body === 'string' && body.length < 200;
function isValidPingAutomationNotifyActionConfig(config) {
    if (!config) {
        return false;
    }
    const { channels, title, body, recipients } = config;
    if (!channels || !Array.isArray(channels) || channels.length === 0) {
        return false;
    }
    if (!recipients) {
        return false;
    }
    const { type } = recipients;
    if (type !== 'Recipients.Owner' && type !== 'Recipients.AllContributors') {
        return false;
    }
    if (channels.some(c => !possibleChannels.includes(c))) {
        return false;
    }
    if ((channels.includes('MOBILE') || channels.includes('BROWSER')) && !isTitleValid(title)) {
        return false;
    }
    if ((channels.includes('MOBILE') || channels.includes('BROWSER') || channels.includes('WEB'))) {
        if (!isBodyValid(body)) {
            return false;
        }
    }
    return true;
}
exports.isValidPingAutomationNotifyActionConfig = isValidPingAutomationNotifyActionConfig;
//# sourceMappingURL=validators.js.map