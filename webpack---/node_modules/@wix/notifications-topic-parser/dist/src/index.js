"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
exports.parseTopic = function (topic) {
    var _a = topic.split('.'), root = _a[0], params = _a.slice(1);
    if (root !== 'root') {
        throw new Error('Illegal Topic form: must begin with `root`');
    }
    var values = params.reduce(function (map, param) {
        var _a;
        return (tslib_1.__assign({}, map, (_a = {}, _a[param.split('=')[0]] = param.split('=')[1], _a)));
    }, {});
    var hierarchy = [root].concat(params.map(function (param) { return param.split('=')[0]; }));
    return {
        values: values,
        hierarchy: hierarchy
    };
};
//# sourceMappingURL=index.js.map