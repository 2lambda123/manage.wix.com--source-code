import { __assign } from "tslib";
import { BIEvents, BISources } from '../consts/bi';
import biLogger from '@wix/web-bi-logger';
import { getMandatoryBIFields } from '@wix/business-manager-api';
var logger = biLogger
    .factory({ endpoint: BIEvents.path })
    .updateDefaults({ src: BISources.myAccount })
    .logger();
export function setLoggerDefaults(defaultValues) {
    var moduleRegistry = window['ModuleRegistry'];
    var mandatoryBIFields = moduleRegistry && moduleRegistry.registeredMethods['businessManager.getMandatoryBIFields']
        ? getMandatoryBIFields()
        : {};
    logger = biLogger
        .factory({ endpoint: BIEvents.path })
        .updateDefaults(__assign(__assign(__assign({}, mandatoryBIFields), defaultValues), { src: BISources.myAccount }))
        .logger();
}
export function sendSiteActionsBI(options) {
    return logger.log(__assign({ src: BISources.myAccount, _: Date.now() }, options));
}
export function getBILoggerForTest() {
    return logger;
}
//# sourceMappingURL=BIService.js.map