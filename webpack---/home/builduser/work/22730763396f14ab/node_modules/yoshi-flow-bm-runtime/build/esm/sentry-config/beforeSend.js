export const createBeforeSend = () => {
    // initializing values once - if we see that they might be mutated we can change to real time calculations
    const { hostname } = window.location;
    const { userAgent } = window.navigator;
    const { cookie } = window.document;
    // https://github.com/wix-private/sled/blob/c07286aac964a5acc4a1cb1e8c213c3b1fc0bf5d/packages/sled-test-runner/src/jest-runtime/lib/sled-global.ts#L134
    const isSled = /(^|;)automation=sled:/.test(cookie);
    const isLocalhost = /localhost|127\.0\.0\.1|::1|\.local|local.wix.com|^$/i.test(hostname);
    const isBot = /Googlebot|AdsBot-Google-Mobile|bingbot|BingPreview|facebookexternalhit|Baiduspider|YandexBot/i.test(userAgent);
    const isNotValidUserAgent = /BonEcho|NewsGator|SeaMonkey|iTunes|Epiphany|Konqueror|Sleipnir|IceWeasel/i.test(userAgent);
    return (event) => {
        if (process.env.NODE_ENV === 'development' || isLocalhost) {
            event.environment = 'development';
        }
        else if (isBot) {
            event.environment = 'bot';
        }
        else if (isNotValidUserAgent) {
            event.environment = 'invalid_useragent';
        }
        else if (isSled) {
            event.environment = 'sled';
        }
        return event;
    };
};
//# sourceMappingURL=beforeSend.js.map